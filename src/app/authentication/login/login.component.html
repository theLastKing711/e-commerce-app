<main>
  <h1 class="mb-4">
    E-commerce
  </h1>
  <form (ngSubmit)="login()" [formGroup]="loginForm">
      <p-card class="sign-up-form">

        <ng-template pTemplate="header">
          <h4>
            Login to E-commerce
          </h4>
        </ng-template>

          <div class="form-field  mb-4 ">
            <input type="text" pInputText class="w-100 p-2" placeholder="username" formControlName="username">
            <p *ngIf="hasRequiredError('username')" id="username-error" class="p-error" >
              Username is Required
            </p>
          </div>

          <div class="form-field mb-2">
            <input type="password" pInputText class="w-100 p-2" placeholder="password" formControlName="password">
            <p *ngIf="hasRequiredError('password')" id="password-error" class="p-error">
              Password is Required
            </p>
          </div>

          <p class="login-error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </p>

        <ng-template pTemplate="footer">
          <button pButton type="submit" label="Login" class="sign-up-button" [disabled]="! formIsValid"></button>
        </ng-template>

    </p-card>

  </form>

  <p class="text-center mt-2">Don't have an account?
    <a [routerLink]="'/sign-up'" class="login-link">Sign Up</a>
  </p>
</main>
